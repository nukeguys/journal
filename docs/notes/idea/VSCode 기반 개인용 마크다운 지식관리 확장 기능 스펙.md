# Markdown Knowledge Editor (VSCode Extension)

## 1. 프로젝트 개요

이 프로젝트는 개인용 지식 관리 및 글쓰기를 목적으로 한 VSCode 확장이다.

기존 도구들(예: Obsidian, Notion)은 기능은 풍부하지만 다음과 같은 한계를 가진다.

- 무겁고 느린 UI
- 마크다운 본질과 멀어지는 데이터 구조
- 에디터와 글쓰기 경험이 분리됨
- AI 기반 글쓰기 워크플로우와의 결합이 자연스럽지 않음

본 프로젝트는 다음 철학을 기반으로 한다.

- 마크다운 파일이 곧 데이터이며, 어떤 도구에서도 열 수 있어야 한다
- VSCode라는 개발자 친화적인 환경에서 최고의 글쓰기 경험을 제공한다
- AI 기능은 직접 내장하지 않고, 사용자가 이미 사용하는 AI 에이전트와 자연스럽게 공존한다
- 개인 사용자가 가볍게 쓰기 시작할 수 있는 성능과 UX를 최우선으로 한다

## 2. 핵심 목표

- 마크다운 기반 문서 작성 경험을 최대한 쾌적하게 만든다
- WikiLink와 백링크를 통해 문서 간 사고 흐름을 연결한다
- 문서 구조를 그대로 활용해 HTML로 퍼블리시할 수 있게 한다
- 기능은 최소화하되, 퀄리티와 일관성을 최우선으로 한다

## 3. 범위 정의 (MVP 기준)

### 포함

- Markdown 문서 편집
- WikiLink 기반 문서 연결
- 백링크 탐색 UI
- 링크 자동완성
- 문서 자동 생성
- HTML Export (MPA)
- Preview 기능

### 제외

- 그래프 뷰
- 플러그인 시스템
- 팀 권한/협업 기능
- AI API 직접 연동
- 프로젝트 단위 관리 시스템

## 4. 문서 및 링크 모델

### 4.1 문서의 정체성

- 문서는 파일 시스템의 `.md` 파일 자체로 정의한다
- 별도의 고유 ID(UUID)는 사용하지 않는다
- 링크의 기준은 파일명 또는 상대 경로이다

이 결정은 다음을 목표로 한다.

- Frontmatter 강제 제거
- 마크다운의 범용성 유지
- Git, GitHub, 다른 에디터와의 완전한 호환성

### 4.2 링크 형식

#### 기본 링크 형식

- WikiLink 방식을 기본으로 사용한다

```text
예:
- [[My Note]]
- [[folder/My Note]]
```

#### 표준 마크다운 링크

- `[텍스트](./path/file.md)` 형식도 인식은 가능
- 자동완성 및 관리 기능은 WikiLink를 기준으로 제공한다

## 5. WikiLink UX 및 자동완성

### 5.1 자동완성 트리거

- Markdown 파일에서 `[[` 입력 시 자동완성 활성화
- VSCode의 Completion API를 활용한다

### 5.2 자동완성 목록

- 워크스페이스 내 모든 Markdown 문서를 대상
- 동일한 파일명이 여러 개 존재할 경우 경로를 함께 표시

예:

- Meeting (notes/Meeting.md)
- Meeting (docs/Meeting.md)

### 5.3 중복 파일 처리 정책

- 파일명 중복은 허용한다
- 자동완성 선택 시, 중복 파일의 경우 경로를 포함한 WikiLink를 삽입한다
- 단일 파일명일 경우 파일명만 삽입한다

## 6. Unresolved Link (없는 문서) 처리

### 6.1 생성 방식

- 존재하지 않는 WikiLink를 클릭하면 즉시 문서를 생성한다
- 별도의 확인 팝업은 기본적으로 표시하지 않는다

### 6.2 생성 위치

- 기본값: 현재 문서와 동일한 폴더
- 설정을 통해 기본 생성 폴더 변경 가능

## 7. 문서 이름 변경 및 링크 유지

### 7.1 파일명 변경 처리

- 사용자가 Markdown 파일명을 변경하면:
  - 해당 파일을 참조하는 모든 WikiLink를 워크스페이스 전체에서 자동으로 업데이트한다
- VSCode 파일 rename 이벤트를 활용한다

### 7.2 링크 안정성 목표

- 파일 이동 및 이름 변경 후에도 링크가 깨지지 않도록 한다
- 이를 위해 전체 워크스페이스 검색 기반 업데이트를 수행한다

## 8. 백링크 시스템

### 8.1 백링크 정의

- 현재 문서를 참조하고 있는 다른 문서들의 목록

### 8.2 UI 제공 방식

- 문서 본문에는 백링크를 표시하지 않는다
- 사이드바 또는 별도의 패널로 제공한다
- 사용자가 패널을 열었을 때만 표시된다

### 8.3 데이터 처리 방식

- 확장 활성화 시 워크스페이스 내 Markdown 파일 전체 스캔
- 메모리 내 인덱스 유지
- 파일 저장/변경/삭제 시 증분 업데이트

## 9. 성능 전략 (MVP 기준)

- 메모리 기반 인덱싱
- 초기 목표 문서 수: 약 500개 미만
- SQLite, 외부 DB는 사용하지 않는다

## 10. Preview 기능

### 10.1 목적

- 작성 중인 문서를 실제 렌더링 결과에 가깝게 확인할 수 있도록 한다

### 10.2 동작 방식

- VSCode의 Markdown Preview 또는 WebView 기반
- GitHub 스타일 또는 기본 테마 제공
- Preview는 편집 화면과 분리된 패널로 제공한다

### 10.3 테마 관계

- Preview 테마와 Publish 테마는 동일할 수도 있고 다를 수도 있다
- MVP에서는 Preview 전용 테마만 제공해도 무방하다

## 11. HTML Export / Publish

### 11.1 기본 개념

- Markdown 문서를 HTML로 변환하여 정적 파일로 Export한다
- Export 결과는 MPA(Multi Page Application) 구조를 따른다

### 11.2 URL 구조

- 폴더 구조 기반 URL
- 예:
  - blog/my-first-post.html
  - notes/index.html

### 11.3 Export 폴더

- 기본값: dist
- 설정에서 Export 폴더명 변경 가능
- Export 폴더는 워크스페이스 내에 생성된다

## 12. 스타일 및 테마

### 12.1 기본 제공

- 최소 1~2개의 기본 CSS 테마 제공
- 단순하고 가독성 위주의 스타일

### 12.2 커스터마이징

- CSS Variable 기반 오버라이드 가능하도록 설계
- MVP에서는 커스터마이징 UI 제공하지 않아도 됨
- 구조적으로 확장 가능하게만 설계한다

## 13. 설정 정책

- 모든 기능은 설정을 통해 켜고 끌 수 있어야 한다
- Frontmatter 사용은 강제하지 않는다
- “마크다운 그대로 쓰기”를 원하는 사용자를 방해하지 않는다

## 14. 장기 방향 (비-MVP)

- 표준 Markdown 링크로의 변환 기능
- WikiLink → Markdown Link 마이그레이션
- Export 테마 마켓 또는 유료 테마
- 그래프 뷰 (선택적)
- 문서 요약/정리 AI 보조 UX (에이전트 기반)

## 15. 최종 목표

이 확장은 다음 사용자에게 적합해야 한다.

- 개인 지식 관리를 원하는 개발자
- 마크다운으로 글을 쓰는 작가/블로거
- AI 에이전트와 함께 글을 쓰는 사용자
- “가볍고 빠른 Obsidian 대안”을 원하는 사용자
